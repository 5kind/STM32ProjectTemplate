# STM32 项目模板/STM32 Project Template

这是一个基于STM32CubeMX生成的项目模板，使用CMake管理（使用类似 StdPeriph 库的方式组织，方便更新）  
采用芯片型号：STM32F103C8T6  
如需HAL库，请使用[主分支](https://github.com/5kind/STM32ProjectTemplate)  
This is a project template generated by STM32CubeMX, using CMake to manage (Use a library similar to StdPeriph to facilitate updates)  
Chip model: STM32F103C8T6  
For the HAL library, please use the [master branch](https://github.com/5kind/STM32ProjectTemplate)

## 使用方法/Usage

main.c中包含了一个简单的点灯程序，可以自行修改  
使用自己的程序替换Core/{Inc,Src}下的文件，已在CMakeLists.txt包含（Src/*.{c,cpp} Inc/）。  
The main.c contains a simple program to light up the LED, which can be modified by yourself.  
Replace the files in Core/{Inc,Src} with your own program, which has been included in CMakeLists.txt (Src/*.{c,cpp} Inc/).

## 编译方法/Compilation

见[CMakeLists.txt](CMakeLists.txt) usage.  
See [CMakeLists.txt](CMakeLists.txt) usage.  

## 特殊说明/Notes
默认将 [标准库的 core_cm3.c](Libraries/CMSIS/CM3/CoreSupport/core_cm3.c) 替换为 [修改后版本](Core/Src/core_cm3.c)，以兼容较新的 gcc 版本。  
Replace [SPL core_cm3.c](Libraries/CMSIS/CM3/CoreSupport/core_cm3.c) with [modified core_cm3.c](Core/Src/core_cm3.c) to be compatible with newer gcc versions by default.
```diff
736c736
<    __ASM volatile ("strexb %0, %2, [%1]" : "=&r" (result) : "r" (addr), "r" (value) );
---
>    __ASM volatile ("strexb %0, %2, [%1]" : "=r" (result) : "r" (addr), "r" (value) );
753c753
<    __ASM volatile ("strexh %0, %2, [%1]" : "=&r" (result) : "r" (addr), "r" (value) );
---
>    __ASM volatile ("strexh %0, %2, [%1]" : "=r" (result) : "r" (addr), "r" (value) );
```

# 许可证与协议/LICENSE & EULA
参见/See
```
# BSD-3-Clause
Libraries/CMSIS/CM3/DeviceSupport/ST/STM32F10x/LICENSE.txt
# ST: SLA0044
Libraries/STM32F10x_StdPeriph_Driver/LICENSE.txt
Project/STM32F10x_StdPeriph_Template/LICENSE.txt
# ARM: LEC-PRE-00425-V2.0
Libraries/CMSIS/License.doc
```
