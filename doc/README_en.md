# STM32 Project Template

- This is a project template generated by STM32CubeMX, managed using CMake (organized similarly to STM32CubeMX projects for easy updating/replacing).
- Recommended: `STM32Cube for Visual Studio Code`
- Target chip: `STM32F103C8T6`
- If you need the `SPL` library, please use the [SPL branch](https://github.com/5kind/STM32ProjectTemplate/tree/SPL)

## Instructions

1. Create a new repository using [Use the template](https://github.com/new?template_name=STM32ProjectTemplate&template_owner=5kind). Do not fork it.
2. [main.c](Core/Src/main.c) contains a simple lighting program, which can replace/add to the files under `Core/{Inc,Src}` and has been included in [CMakeLists.txt](cmake/stm32cubemx/CMakeLists.txt) (`Core/Src/*.{c,cpp} Core/Inc/`).
3. For the default driver library, see [CMakeLists.txt](cmake/stm32cubemx/CMakeLists.txt). Add and define your own:
```
# STM32 HAL/LL Drivers
file(GLOB STM32_Drivers_Src
${HAL_Src}_gpio*.c
${HAL_Src}.c
${HAL_Src}_rcc*.c
${HAL_Src}_dma.c
${HAL_Src}_cortex.c
${HAL_Src}_pwr.c
${HAL_Src}_flash*.c
${HAL_Src}_exti.c
)
```

## Compile Method

```
# Using ninja is recommended
# Debug:
cmake -DCMAKE_TOOLCHAIN_FILE=cmake/gcc-arm-none-eabi.cmake -S ./ -B build/Debug -G"Ninja" -DCMAKE_BUILD_TYPE=Debug && ninja -C build/Debug
# Release:
cmake -DCMAKE_TOOLCHAIN_FILE=cmake/gcc-arm-none-eabi.cmake -S ./ -B build/Release -G"Ninja" -DCMAKE_BUILD_TYPE=Release && ninja -C build/Release
```

# License or User Agreement
See
```
#Apache-2.0
Drivers/CMSIS/Device/ST/STM32F1xx/LICENSE.txt
Drivers/CMSIS/docs/General/html/LICENSE.txt
Drivers/CMSIS/LICENSE.txt
# BSD-3-Clause
Drivers/STM32F1xx_HAL_Driver/LICENSE.txt
```